[
  {
    "id": "Vector_linux",
    "name": "Vector",
    "controller_default_run": false,
    "icon": "",
    "node_operating_system": "linux",
    "service_type": "exec",
    "executable_path": "/opt/fusion-collectors/bin/vector",
    "execute_parameters": "--config %s",
    "validation_parameters": "",
    "default_template": "",
    "introduction": "Vector is a high-performance observability data pipeline that collects, processes, and routes logs, metrics, and traces from various sources to multiple destinations, providing real-time insights into system performance and health.",
    "enabled_default_config": true,
    "default_config": {
      "nats": "# ====================================\n# 默认Logstash协议接收服务\n# ====================================\n[sources.default_logs]\ntype = \"logstash\"\naddress = \"0.0.0.0:15044\"\nmode = \"tcp\"\n# ====================================\n# 基础字段补全（最小化处理）\n# ====================================\n[transforms.default_enrich]\ntype = \"remap\"\ninputs = [\"default_logs\"]\nsource = '''\n# 添加Vector接收的基础元数据\n.collect_method = \"filebeat\"\n.node_ip = \"${node.ip}\"\n.received_at = now()\n# 确保基础字段存在\nif !exists(.timestamp) {\n  .timestamp = now()\n}\n'''\n# ====================================\n# 直接输出到NATS（零业务逻辑）\n# ====================================\n[sinks.default_vmlogs]\ntype = \"nats\"\ninputs = [\"default_enrich\"]\nsubject = \"vector\"\nurl = \"${NATS_PROTOCOL}://${NATS_SERVERS}\"\n\n[sinks.default_vmlogs.auth]\nstrategy = \"user_password\"\n\n[sinks.default_vmlogs.auth.user_password]\nuser = \"${NATS_USERNAME}\"\npassword = \"${NATS_PASSWORD}\"\n\n{% if NATS_PROTOCOL == \"tls\" %}\n# TLS 配置\n[sinks.default_vmlogs.tls]\nenabled = true\nskip_cert_verify = false\nca_file = \"${NATS_TLS_CA_FILE}\"\n{% endif %}\n\n[sinks.default_vmlogs.encoding]\ncodec = \"json\"\n"    }
  }
]
